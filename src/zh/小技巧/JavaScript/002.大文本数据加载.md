---
title: 大文本数据加载
lang: zh-CN
date: 2024-05-18 17:15:31
permalink: /Tips/JavaScript/002/
category:
  - JavaScript
tag:
  - Tips
---

```js
 async function load() {
    const url = 'https:/duyi-static.oss-cn-beijing.aliyuncs.com/files/novel.txt'
    const resp = await fetch(url)
    // const text = await resp.text()
    const reader = resp.body.getReader()
    const decoder = new TextDecoder()
    let remainChunk =  new Uint8Array(0)
    let resultText = ''
    for (; ;) {
      const { done, value } = await reader.read()
      if (done) {
        break
      }
      const text = decoder.decode(value)
      resultText += text
      // document.writeln(text)
    }
    console.log(resultText)
  }
```

